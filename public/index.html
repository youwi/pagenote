

<script type="text/javascript" src="/js/jquery.min.js"></script>
<script type="text/javascript" src="/ckeditor/ckeditor.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>
<link   type="text/css"    href="/css/bootstrap.min.css" rel="stylesheet">
<link   type="text/css"    href="/css/font-awesome.min.css"  rel="stylesheet" >





<div class="container" style="margin-top:30px;">
    <div class="row">
        <div class="col-md-4">
            <ul id="treeroot"></ul>

        </div>


        <!--<div class="col-md-4">-->
            <!--<p class="well" style="height:135px;"><strong>Initialization optional parameters</strong>-->

                <!--<br /> <code>$('#tree2').treed({openedClass : 'glyphicon-folder-open', closedClass : 'glyphicon-folder-close'});</code>-->

            <!--</p>-->
            <!--<ul id="tree2">-->
                <!--<li>ABC-->
                    <!--<ul>-->
                        <!--<li>Company Maintenance</li>-->
                        <!--<li>Employees-->
                            <!--<ul>-->
                                <!--<li>Reports-->
                                    <!--<ul>-->
                                        <!--<li>Report1</li>-->
                                        <!--<li>Report2</li>-->
                                        <!--<li>Report3</li>-->
                                    <!--</ul>-->
                                <!--</li>-->
                                <!--<li>Employee Maint.</li>-->
                            <!--</ul>-->
                        <!--</li>-->
                        <!--<li>Human Resources</li>-->
                    <!--</ul>-->
                <!--</li>-->
                <!--<li>XRP-->
                    <!--<ul>-->
                        <!--<li>Company Maintenance</li>-->
                        <!--<li>Employees-->
                            <!--<ul>-->
                                <!--<li>Reports-->
                                    <!--<ul>-->
                                        <!--<li>Report1</li>-->
                                        <!--<li>Report2</li>-->
                                        <!--<li>Report3</li>-->
                                    <!--</ul>-->
                                <!--</li>-->
                                <!--<li>Employee Maint.</li>-->
                            <!--</ul>-->
                        <!--</li>-->
                        <!--<li>Human Resources</li>-->
                    <!--</ul>-->
                <!--</li>-->
            <!--</ul>-->
        <!--</div>-->
        <!--<div class="col-md-4">-->
            <!--<p class="well" style="height:135px;"><strong>Initialization optional parameters</strong>-->

                <!--<br /> <code>$('#tree3').treed({openedClass:'glyphicon-chevron-right', closedClass:'glyphicon-chevron-down'});</code>-->

            <!--</p>-->
            <!--<ul id="tree3">-->
                <!--<li><a href="#">TECH</a>-->

                    <!--<ul>-->
                        <!--<li>Company Maintenance</li>-->
                        <!--<li>Employees-->
                            <!--<ul>-->
                                <!--<li>Reports-->
                                    <!--<ul>-->
                                        <!--<li>Report1</li>-->
                                        <!--<li>Report2</li>-->
                                        <!--<li>Report3</li>-->
                                    <!--</ul>-->
                                <!--</li>-->
                                <!--<li>Employee Maint.</li>-->
                            <!--</ul>-->
                        <!--</li>-->
                        <!--<li>Human Resources</li>-->
                    <!--</ul>-->
                <!--</li>-->
                <!--<li>XRP-->
                    <!--<ul>-->
                        <!--<li>Company Maintenance</li>-->
                        <!--<li>Employees-->
                            <!--<ul>-->
                                <!--<li>Reports-->
                                    <!--<ul>-->
                                        <!--<li>Report1</li>-->
                                        <!--<li>Report2</li>-->
                                        <!--<li>Report3</li>-->
                                    <!--</ul>-->
                                <!--</li>-->
                                <!--<li>Employee Maint.</li>-->
                            <!--</ul>-->
                        <!--</li>-->
                        <!--<li>Human Resources</li>-->
                    <!--</ul>-->
                <!--</li>-->
            <!--</ul>-->
        <!--</div>-->
    </div>
</div>
<style>

    .tree, .tree ul {
        margin:0;
        padding:0;
        list-style:none
    }
    .tree ul {
        margin-left:1em;
        position:relative
    }
    .tree ul ul {
        margin-left:.5em
    }
    .tree ul:before {
        content:"";
        display:block;
        width:0;
        position:absolute;
        top:0;
        bottom:0;
        left:0;
        border-left:1px solid
    }
    .tree li {
        margin:0;
        padding:0 1em;
        line-height:2em;
        color:#369;
        font-weight:700;
        position:relative
    }
    .tree ul li:before {
        content:"";
        display:block;
        width:10px;
        height:0;
        border-top:1px solid;
        margin-top:-1px;
        position:absolute;
        top:1em;
        left:0
    }
    .tree ul li:last-child:before {
        background:#fff;
        height:auto;
        top:1em;
        bottom:0
    }
    .indicator {
        margin-right:5px;
    }
    .tree li a {
        text-decoration: none;
        color:#369;
    }
    .tree li button, .tree li button:active, .tree li button:focus {
        text-decoration: none;
        color:#369;
        border:none;
        background:transparent;
        margin:0px 0px 0px 0px;
        padding:0px 0px 0px 0px;
        outline: 0;
    }
</style>
<script>


    $.fn.extend({
        treed: function (o) {

            var openedClass = 'glyphicon-minus-sign';
            var closedClass = 'glyphicon-plus-sign';

            if (typeof o != 'undefined') {
                if (typeof o.openedClass != 'undefined') {
                    openedClass = o.openedClass;
                }
                if (typeof o.closedClass != 'undefined') {
                    closedClass = o.closedClass;
                }
            }
            ;

//initialize each of the top levels
    var tree = $(this);
    tree.addClass("tree");
    tree.find('li').has("ul").each(function () {
        var branch = $(this); //li with children ul
        branch.prepend("<i class='indicator glyphicon " + closedClass + "'></i>");
        branch.addClass('branch');
        branch.on('click', function (e) {
            if (this == e.target) {
                var icon = $(this).children('i:first');
                icon.toggleClass(openedClass + " " + closedClass);
                $(this).children().children().toggle();
            }
           // console.log("click++")
        })
        branch.children().children().toggle();
    });
//fire event from the dynamically added icon
    tree.find('.branch .indicator').each(function () {
        $(this).on('click', function () {
            $(this).closest('li').click();
          //  console.log("click++")
        });
    });
//fire event to open branch if the li contains an anchor instead of text
//    tree.find('.branch>a').each(function () {
//        $(this).on('click', function (e) {
//            $(this).closest('li').click();
//            e.preventDefault();
//           // console.log("click++")
//        });
//    });
//fire event to open branch if the li contains a button instead of text
    tree.find('.branch>button').each(function () {
        $(this).on('click', function (e) {
            $(this).closest('li').click();
            e.preventDefault();
           // console.log("click++")
        });
    });
}
});

//Initialization of treeviews
//var domtree="";
var tmp2;
$.getJSON("/wikiList",function(json){
     //var domtree="<ul id=treeroot'>";
   var domtree="<li>root\n";
    domtree= buildTree(json);
    domtree +="</li>";
    tmp2=domtree;

  //  console.log(convert(json));
   // $("#tree1")[0].innerHTML=domtree;
    var tmp= "<ul>root" +
            "<li>dir1" +
            "<ul><li>fil1</li>" +
            "   <li>file2</li>" +
            "   <li>dir2" +
            "       <ul>" +
            "           <li><a href='baidu.com'>file3</a></li>" +
            "           <li>file4</li>" +
            "       </ul>" +
            "   </li>" +
            "</ul>" +
            "</li>";//domtree;//.append( domtree );




            ;
    $("#treeroot").append(domtree);
    $('#treeroot').treed();
});

function buildTree(node,dir){
    //domtree+="<li>root";
    var domtree="";
    dir=dir||"";
    for(child in node){


        if(child!="filename")
        {
            domtree+="<li>"+child;
            domtree+=buildTree(node[child],dir+"/"+child);
            domtree+="</li>\n";

        }else{

            domtree+="<ul>"
            for(var i=0;i< node[child].length;i++)
                domtree+="\t\t<li><a href='"+dir+"/"+node[child][i]+"'>"+node[child][i]+"</a></li>\n";

        }
    }
    domtree+="</ul>\n";

    return domtree||"";

}
function tt(){


}
$('#tree1').treed();

$('#tree2').treed({openedClass:'glyphicon-folder-open', closedClass:'glyphicon-folder-close'});

$('#tree3').treed({openedClass:'glyphicon-chevron-right', closedClass:'glyphicon-chevron-down'});


</script>